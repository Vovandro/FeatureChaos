<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FeatureChaos Admin</title>
  <style>
    :root{--bg:#0b1320;--card:#111a2b;--muted:#91a0b3;--accent:#3b82f6;--danger:#ef4444;--ok:#10b981;--border:#22314d;}
    *{box-sizing:border-box}
    body{background:var(--bg);color:#e5e7eb;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial,sans-serif;margin:20px}
    h1{font-size:20px;margin:0 0 12px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:16px}
    table{border-collapse:separate;border-spacing:0 8px;width:100%;margin-top:10px}
    th{font-weight:600;color:var(--muted);text-align:left;padding:6px 10px}
    td{background:var(--card);border:1px solid var(--border);border-left-width:1px;border-right-width:1px;padding:10px;vertical-align:top}
    tr td:first-child{border-top-left-radius:8px;border-bottom-left-radius:8px}
    tr td:last-child{border-top-right-radius:8px;border-bottom-right-radius:8px}
    input,button{font-size:14px;padding:8px 12px;border-radius:8px;border:1px solid var(--border);background:#0f172a;color:#e5e7eb}
    input::placeholder{color:#6b7280}
    button{background:var(--accent);border-color:transparent;cursor:pointer}
    button:disabled{opacity:.6;cursor:not-allowed}
    .row{display:flex;gap:8px;margin:8px 0;flex-wrap:wrap}
    .muted{color:var(--muted)}
    .keys{margin-top:6px;font-size:13px;display:flex;flex-direction:column;gap:4px}
    .params{margin-left:12px;font-size:12px;color:#cbd5e1}
    .badge{display:inline-flex;align-items:center;gap:6px;font-size:12px;padding:4px 8px;border-radius:999px;border:1px solid var(--border);background:#0f172a}
    .badge.ok{border-color:rgba(16,185,129,.4);background:rgba(16,185,129,.08);color:#a7f3d0}
    .badge.muted{color:var(--muted)}
    .actions{display:flex;gap:6px;align-items:center}
    .danger{background:var(--danger)}
    .value-input{width:100px}
    .grow{flex:1}
    .svc-list{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
    .svc{border:1px solid var(--border);padding:4px 8px;border-radius:8px;background:#0f172a}
    .layout{display:grid;grid-template-columns:1fr 320px;gap:12px;align-items:start;margin-top:12px}
    .sidebar h3{margin:0 0 8px;font-size:14px;color:#cbd5e1}
    .svc-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border:1px solid var(--border);border-radius:8px;margin-bottom:6px;background:var(--card)}
    .svc-item .badge{margin-left:8px}
    .k-header{display:flex;align-items:center;gap:8px}
    .k-title{font-weight:600}
    .mini{font-size:12px;padding:4px 6px}
  </style>
  <script defer src="/index.js"></script>
 </head>
  <body>
   <h1>FeatureChaos Admin</h1>
   <div class="card">
     <div class="row">
       <input id="f-name" class="grow" placeholder="feature name" />
       <input id="f-desc" class="grow" placeholder="description" />
       <button onclick="createFeature()">Create feature</button>
     </div>
     <div id="status" class="muted"></div>
   </div>
   <div class="layout">
     <div>
       <div class="card" style="margin-bottom:10px">
         <div class="row">
           <input id="f-search" class="grow" placeholder="Search features..." oninput="onSearchInput()" />
         </div>
       </div>
       <table>
         <thead>
           <tr><th>Name</th><th>Description</th><th>Value</th><th>Used</th><th>Services</th><th>Keys</th><th>Actions</th></tr>
         </thead>
         <tbody id="features"></tbody>
       </table>
     </div>
     <div class="sidebar">
       <div class="card">
         <h3>Services</h3>
         <div class="row">
           <input id="s-name" class="grow" placeholder="new service name" />
           <button onclick="createService()">Create</button>
         </div>
         <div class="muted" style="margin-bottom:8px">Сервисы ограничивают видимость фич для клиентов.</div>
         <div id="services"></div>
       </div>
     </div>
   </div>
  </body>
 </html>
